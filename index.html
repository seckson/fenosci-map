<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">

<link rel="stylesheet" href="./resources/ol.css">
<link rel="stylesheet" href="resources/fontawesome-all.min.css">
<link rel="stylesheet" href="resources/photon-geocoder-autocomplete.min.css">
<link rel="stylesheet" href="./resources/ol-layerswitcher.css">
<link rel="stylesheet" href="./resources/qgis2web.css">

<style>
html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    background-color: #ffffff;
}

/* Layout principal */
#container {
    display: flex;
    width: 100%;
    height: 100vh;
}

/* Carte */
#map {
    flex: 3;
}

/* Panneau popup √† droite */
#info-panel {
    flex: 1;
    padding: 12px;
    border-left: 1px solid #ccc;
    background-color: #f9f9f9;
    overflow-y: auto;
    font-family: Arial, sans-serif;
    font-size: 14px;
}

#info-panel h3 {
    margin-top: 0;
    border-bottom: 1px solid #ddd;
    padding-bottom: 6px;
}

/* Styles OpenLayers */
.ol-control > * {
    background-color: #f8f8f8 !important;
    color: #444444 !important;
    border-radius: 0;
}

.ol-control {
    background-color: rgba(255,255,255,0.4) !important;
    padding: 2px !important;
}

/* üî¥ Masquer compl√®tement le popup sur la carte */
.ol-popup {
    display: none !important;
}
</style>

<title>Carte FENOSCI</title>
</head>

<body>

<!-- CONTAINER -->
<div id="container">

    <!-- CARTE -->
    <div id="map"></div>

    <!-- PANNEAU LATERAL -->
    <div id="info-panel">
        <h3>Informations</h3>
        <div id="popup-content-panel">
            Cliquez sur un √©l√©ment de la carte
        </div>
    </div>

</div>

<!-- POPUP qgis2web (OBLIGATOIRE mais cach√© visuellement) -->
<div id="popup" class="ol-popup">
    <a href="#" id="popup-closer" class="ol-popup-closer"></a>
    <div id="popup-content"></div>
</div>

<!-- SCRIPTS qgis2web -->
<script src="resources/qgis2web_expressions.js"></script>
<script src="./resources/functions.js"></script>
<script src="./resources/ol.js"></script>
<script src="./resources/ol-layerswitcher.js"></script>
<script src="resources/photon-geocoder-autocomplete.min.js"></script>

<script src="layers/CILimitedelaCtedIvoire_0.js"></script>
<script src="layers/civ_admbnda_adm3_cntig_20160527_1.js"></script>
<script src="layers/fenosci_mapRpartitiondesONGdanslesdistrictssanitaires_2.js"></script>
<script src="layers/carte_fenosci_3.js"></script>

<script src="styles/CILimitedelaCtedIvoire_0_style.js"></script>
<script src="styles/civ_admbnda_adm3_cntig_20160527_1_style.js"></script>
<script src="styles/fenosci_mapRpartitiondesONGdanslesdistrictssanitaires_2_style.js"></script>
<script src="styles/carte_fenosci_3_style.js"></script>

<script src="./layers/layers.js"></script>
<script src="./resources/Autolinker.min.js"></script>
<script src="./resources/qgis2web.js"></script>

<!-- Copier le contenu du popup vers le panneau droit -->
<script>
const observer = new MutationObserver(() => {
    const popup = document.getElementById('popup-content');
    const panel = document.getElementById('popup-content-panel');
    if (popup && panel) {
        panel.innerHTML = popup.innerHTML || "Aucun √©l√©ment s√©lectionn√©";
    }
});

observer.observe(
    document.getElementById('popup-content'),
    { childList: true, subtree: true }
);
</script>

</body>
</html>
